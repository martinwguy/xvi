:!! doesn't re-execute the last command. It just executes !

nvi re-executes the last command; POSIX-ex says:

Non- <backslash>-escaped '!' characters in the arguments to either the ex
! command or the open and visual mode ! command, or in the arguments to
the ex read command, where the first non- <blank> after the command name
is a '!' character, or in the arguments to the ex write command where the
command name is followed by one or more <blank> characters and the first
non- <blank> after the command name is a '!' character, shall be replaced
with the arguments to the last of those three commands as they appeared
after all unescaped '%', '#', and '!' characters were replaced. It shall
be an error if '!' characters appear unescaped in one of these commands
and there has been no previous execution of one of these commands.

...if you can understand that!
